# Configurações de Produção - Renum API
# Copie este arquivo para .env.production e configure as variáveis

# === CONFIGURAÇÕES GERAIS ===
NODE_ENV=production
DEBUG=false
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8000

# === SUPABASE (BANCO DE DADOS PRINCIPAL) ===
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# === JWT AUTHENTICATION ===
JWT_SECRET_KEY=your-super-secret-jwt-key-here-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# === SUNA BACKEND (MOTOR DE EXECUÇÃO) ===
SUNA_API_URL=http://157.180.39.41:8000/api
SUNA_WS_URL=ws://157.180.39.41:8000/ws
SUNA_API_KEY=your-suna-api-key-here

# === REDIS (CACHE E RATE LIMITING) ===
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your-redis-password-here

# === POSTGRESQL (BACKUP/DESENVOLVIMENTO) ===
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=renum
POSTGRES_USER=renum_user
POSTGRES_PASSWORD=your-postgres-password-here

# === MONITORAMENTO ===
PROMETHEUS_ENABLED=true
GRAFANA_PASSWORD=your-grafana-password-here
LOKI_ENABLED=true
JAEGER_ENABLED=true

# === NOTIFICAÇÕES ===
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DEPLOY_WEBHOOK_URL=https://your-webhook-endpoint.com/deploy
BACKUP_WEBHOOK_URL=https://your-webhook-endpoint.com/backup

# === RATE LIMITING ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# === SEGURANÇA ===
CORS_ORIGINS=https://app.renum.com,https://dashboard.renum.com
ALLOWED_HOSTS=api.renum.com,localhost
SECURE_COOKIES=true
CSRF_PROTECTION=true

# === INTEGRAÇÕES EXTERNAS ===
# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your-whatsapp-access-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token

# Telegram Bot API
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# Gmail SMTP
GMAIL_SMTP_SERVER=smtp.gmail.com
GMAIL_SMTP_PORT=587
GMAIL_DEFAULT_FROM_EMAIL=noreply@renum.com

# === ANALYTICS E BILLING ===
ANALYTICS_ENABLED=true
BILLING_ENABLED=true
COST_TRACKING_ENABLED=true

# === BACKUP E DISASTER RECOVERY ===
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# === PERFORMANCE ===
WORKER_PROCESSES=auto
MAX_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=10M

# === SSL/TLS (para produção com HTTPS) ===
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# === LOGGING ===
LOG_FORMAT=json
LOG_FILE=/app/logs/renum-api.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# === HEALTH CHECKS ===
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# === FEATURE FLAGS ===
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_FALLBACK_SYSTEM=true
FEATURE_SANDBOX_MODE=true
FEATURE_AGENT_REGISTRY=true

# === DESENVOLVIMENTO/DEBUG (desabilitar em produção) ===
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false